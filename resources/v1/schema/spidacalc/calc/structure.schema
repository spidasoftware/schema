{
  "id": "#/spidacalc/calc/structure.schema",
  "description": "Structural Description of a calc Design",
  "type": "object",
  "required": [
    "pole"
  ],
  "additionalProperties": false,
  "properties": {
     "id": {
      "type": "string"
    },
    "pole": {
      "$ref": "../../spidacalc/calc/pole.schema"
    },
    "anchors": {
      "type": "array",
      "items": {
        "$ref":"../../spidacalc/calc/anchor.schema"
      }
    },
    "wireEndPoints": {
      "type": "array",
      "items": {
        "$ref":"../../spidacalc/calc/wire_end_point.schema"
      }
    },
    "spanPoints": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "spanPoint",
        "required": [
          "id",
          "distance",
          "environment",
          "heights"
        ],
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "uuid": {
            "type": "string"
          },
          "distance": {
            "$ref": "../../general/measurable.schema"
          },
          "environment": {
            "$ref": "../../spidacalc/calc/enums/environment.schema"
          },
          "heights": {
            "type": "array",
            "items": {
              "type": "object",
              "id": "height",
              "required": [
                "wireId",
                "height"
              ],
              "additionalProperties": false,
              "properties": {
                "wireId": {
                  "type": "string"
                },
                "height": {
                  "$ref": "../../general/measurable.schema"
                }
              }
            }
          }
        }
      }
    },
    "notePoints": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "notePoint",
        "required": [
          "id",
          "distance",
          "direction",
          "height",
          "note"
        ],
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "description": "A display id for the object. Should be unique to the pole."
          },
          "uuid": {
            "type": "string",
            "description": "An option UUID."
          },  
          "distance": {
            "$ref": "../../general/measurable.schema"
          },
          "direction": {
            "$ref": "../../general/bearing.schema"
          },
          "note": {
            "type": "string"
          },
          "height": {
            "$ref": "../../general/measurable.schema"
          }
        }
      }
    },
    "pointLoads": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "pointLoad",
        "required": [
          "id",
          "attachmentHeight",
          "owner",
          "elevation",
          "rotation",
          "x",
          "y",
          "z",
          "fx",
          "fy",
          "fz",
          "mx",
          "my",
          "mz"
        ],
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "description": "The display ID for the attachment. Must be unique within the pole."
          },
          "uuid": {
            "type": "string",
            "description": "An optional UUID for the item."
          },
          "owner": {
            "$ref": "../../general/owner.schema"
          },
          "attachmentHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "elevation": {
            "$ref": "../../general/measurable.schema"
          },
          "rotation": {
            "$ref": "../../general/measurable.schema"
          },
          "x": {
            "$ref": "../../general/measurable.schema"
          },
          "y": {
            "$ref": "../../general/measurable.schema"
          },
          "z": {
            "$ref": "../../general/measurable.schema"
          },
          "fx": {
            "$ref": "../../general/measurable.schema"
          },
          "fy": {
            "$ref": "../../general/measurable.schema"
          },
          "fz": {
            "$ref": "../../general/measurable.schema"
          },
          "mx": {
            "$ref": "../../general/measurable.schema"
          },
          "my": {
            "$ref": "../../general/measurable.schema"
          },
          "mz": {
            "$ref": "../../general/measurable.schema"
          }
        }
      }
    },
    "damages": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "id",
          "attachHeight",
          "damageType",
          "damageHeight"
        ],
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "uuid": {
            "type": "string"
          },
          "damageType": {
            "$ref": "../../spidacalc/calc/enums/damage_type.schema"
          },
          "attachHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "damageHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "direction": {
            "$ref": "../../general/bearing.schema"
          },
          "arc": {
            "$ref": "../../general/measurable.schema"
          },
          "width": {
            "$ref": "../../general/measurable.schema"
          },
          "depth": {
            "$ref": "../../general/measurable.schema"
          },
          "circumference": {
            "$ref": "../../general/measurable.schema"
          },
          "nestDepth": {
            "$ref": "../../general/measurable.schema"
          },
          "shellThickness": {
            "$ref": "../../general/measurable.schema"
          },
          "neckDepth": {
            "$ref": "../../general/measurable.schema"
          },
          "neckDiameter": {
            "$ref": "../../general/measurable.schema"
          },
          "neckOffset": {
            "$ref": "../../general/measurable.schema"
          }
        }
      }
    },
    "wires": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "wire",
        "required": [
          "id",
          "attachmentHeight",
          "owner",
          "clientItem",
          "usageGroup"
        ],
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "description": "The display ID for the attachment. Must be unique within the pole."
          },
          "uuid": {
            "type": "string",
            "description": "An optional UUID for the item."
          },
          "owner": {
            "$ref": "../../general/owner.schema"
          },
          "attachmentHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "usageGroup": {
            "type": "string"
          },
          "tensionGroup": {
            "type": "string"
          },
          "midspanHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "tensionAdjustment": {
            "type": "number"
          },
          "clientItem": {
            "$ref": "../../spidacalc/calc/client_references/wire.schema"
          }
        }
      }
    },
    "spanGuys": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "spanGuy",
        "required": [
          "id",
          "attachmentHeight",
          "owner",
          "clientItem",
          "height"
        ],
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "description": "The display ID for the attachment. Must be unique within the pole."
          },
          "uuid": {
            "type": "string",
            "description": "An optional UUID for the item."
          },
          "owner": {
            "$ref": "../../general/owner.schema"
          },
          "attachmentHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "midspanHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "height": {
            "$ref": "../../general/measurable.schema"
          },
          "clientItem": {
            "$ref": "../../spidacalc/calc/client_references/wire.schema"
          }
        }
      }
    },
    "guys": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "guy",
        "required": [
          "id",
          "attachmentHeight",
          "owner",
          "clientItem"
        ],
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "description": "The display ID for the attachment. Must be unique within the pole."
          },
          "uuid": {
            "type": "string",
            "description": "An optional UUID for the item."
          },
          "owner": {
            "$ref": "../../general/owner.schema"
          },
          "attachmentHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "braceHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "braceLength": {
            "$ref": "../../general/measurable.schema"
          },
          "clientItem": {
            "$ref": "../../spidacalc/calc/client_references/wire.schema"
          }
        }
      }
    },
    "equipments": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "equipment",
        "required": [
          "id",
          "attachmentHeight",
          "owner",
          "clientItem",
          "direction",
          "bottomHeight"
        ],
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "description": "The display ID for the attachment. Must be unique within the pole."
          },
          "uuid": {
            "type": "string",
            "description": "An optional UUID for the item."
          },
          "owner": {
            "$ref": "../../general/owner.schema"
          },
          "attachmentHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "bottomHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "direction": {
            "$ref": "../../general/bearing.schema"
          },
          "clientItem": {
            "$ref": "../../spidacalc/calc/client_references/equipment.schema"
          }
        }
      }
    },
    "crossArms": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "crossArm",
        "required": [
          "id",
          "attachmentHeight",
          "owner",
          "associatedBacking",
          "clientItem",
          "direction",
          "offset"
        ],
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "description": "The display ID for the attachment. Must be unique within the pole."
          },
          "uuid": {
            "type": "string",
            "description": "An optional UUID for the item."
          },
          "owner": {
            "$ref": "../../general/owner.schema"
          },
          "attachmentHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "offset": {
            "$ref": "../../general/measurable.schema"
          },
          "direction": {
            "$ref": "../../general/bearing.schema"
          },
          "associatedBacking": {
            "type": "string"
          },
          "insulators": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "clientItem": {
            "type": "string"
          }
        }
      }
    },
    "insulators": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "insulator",
        "required": [
          "id",
          "attachmentHeight",
          "owner",
          "doubleInsulator",
          "clientItem",
          "direction",
          "offset"
        ],
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "description": "The display ID for the attachment. Must be unique within the pole."
          },
          "uuid": {
            "type": "string",
            "description": "An optional UUID for the item."
          },
          "owner": {
            "$ref": "../../general/owner.schema"
          },
          "attachmentHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "offset": {
            "$ref": "../../general/measurable.schema"
          },
          "direction": {
            "$ref": "../../general/bearing.schema"
          },
          "doubleInsulator": {
            "type": "boolean"
          },
          "wires": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "clientItem": {
            "type": "string"
          }
        }
      }
    },
    "pushBraces": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "pushBrace",
        "required": [
          "id",
          "attachmentHeight",
          "owner",
          "clientItem",
          "distance",
          "direction",
          "glc"
        ],
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "description": "The display ID for the attachment. Must be unique within the pole."
          },
          "uuid": {
            "type": "string",
            "description": "An optional UUID for the item."
          },
          "owner": {
            "$ref": "../../general/owner.schema"
          },
          "attachmentHeight": {
            "$ref": "../../general/measurable.schema"
          },
          "glc": {
            "$ref": "../../general/measurable.schema"
          },
          "direction": {
            "$ref": "../../general/bearing.schema"
          },
          "distance": {
            "$ref": "../../general/measurable.schema"
          },
          "clientItem": {
            "$ref": "../../spidacalc/calc/client_references/pole.schema"
          }
        }
      }
    }
  }
}